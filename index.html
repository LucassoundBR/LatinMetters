<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LatinMetters // @lucas.sound</title>
    <!-- Font: Share Tech Mono Only -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap" rel="stylesheet">

    <!-- Import Maps Polyfill for older Safari/iOS -->
    <script async src="https://unpkg.com/es-module-shims@1.6.3/dist/es-module-shims.js"></script>

    <link rel="stylesheet" href="css/style.css">

    <script type="importmap">
    {
        "imports": {
            "three": "https://cdn.jsdelivr.net/npm/three@0.128.0/build/three.module.js",
            "three/examples/jsm/": "https://cdn.jsdelivr.net/npm/three@0.128.0/examples/jsm/"
        }
    }
    </script>
</head>

<body>

    <div id="click-hint">CLICK TO ENABLE AUDIO</div>

    <!-- LEFT SIDEBAR -->
    <div id="ui-container">
        <div id="control-bar">

            <div class="brand-section">
                <div class="brand">LatinMetters</div>
                <a href="https://www.linkedin.com/in/lucas-amadeu-431317176/" target="_blank"
                    class="contact-link">Contact Me</a>
                <div class="version-label">v5.0 Stable</div>
                <div style="margin-top: 10px; pointer-events: auto;">
                    <a href='https://ko-fi.com/Y8Y51UJMRA' target='_blank'><img height='36'
                            style='border:0px;height:36px;' src='https://storage.ko-fi.com/cdn/kofi3.png?v=6' border='0'
                            alt='Buy Me a Coffee at ko-fi.com' /></a>
                </div>
            </div>

            <div class="lang-switch">
                <button class="lang-btn active" onclick="setLang('en')">EN</button>
                <button class="lang-btn" onclick="setLang('pt')">PT</button>
                <button class="lang-btn" onclick="setLang('es')">ES</button>
            </div>

            <!-- GROUP 1: VISUALS -->
            <div class="control-group">
                <label><span data-i18n="amp">AMP</span> <span id="ampVal">30</span></label>
                <input type="range" id="ampSlider" min="10" max="100" value="30">
            </div>

            <div class="control-group">
                <label><span data-i18n="depth">DEPTH</span> <span id="depthVal">64</span></label>
                <input type="range" id="depthSlider" min="32" max="128" value="64" step="16">
            </div>

            <div class="control-group">
                <label><span data-i18n="speed">SPEED</span> <span id="speedVal">4</span></label>
                <input type="range" id="speedSlider" min="1" max="10" value="4">
            </div>

            <div class="control-group">
                <label>FFT SIZE</label>
                <select id="fftSelect">
                    <option value="1024">1024</option>
                    <option value="2048" selected>2048</option>
                    <option value="4096">4096</option>
                    <option value="8192">8192</option>
                    <option value="16384">16384</option>
                </select>
            </div>

            <div class="control-group">
                <label data-i18n="palette">PALETTE</label>
                <select id="paletteSelect">
                    <option value="dreamy">Dreamy</option>
                    <option value="ocean">Midnight Sea</option>
                    <option value="plasma">Plasma</option>
                    <option value="heat">Heat</option>
                    <option value="amazonia">Amazonia</option>
                    <option value="jinx">Jinx</option>
                    <option value="spectral">Nebula</option>
                    <option value="golden">Luxury</option>
                    <option value="kawaii">Kawaii</option>
                    <option value="metal_gear">Metal Gear</option>
                </select>
            </div>

            <div class="control-group">
                <label data-i18n="mode">MODE</label>
                <select id="modeSelect">
                    <option value="solid" selected>SOLID</option>
                    <option value="bars">BARS</option>
                    <option value="wire">WIRE</option>
                    <option value="lines">LINES</option>
                    <option value="dots">DOTS</option>
                </select>
            </div>

            <div class="control-group">
                <label data-i18n="view">VIEW</label>
                <select id="viewSelect">
                    <option value="iso">ISO</option>
                    <option value="front">FRONT</option>
                    <option value="side">SIDE</option>
                    <option value="top">TOP</option>
                </select>
            </div>

            <div class="control-group" style="flex-direction: row; align-items: flex-end; gap: 8px;">
                <button id="sizeBtn" class="toggle-btn active" data-i18n="size_full">SIZE: FULL</button>
                <button id="gridBtn" class="toggle-btn active" data-i18n="grid_on">GRID: ON</button>
            </div>

            <div class="control-group" style="flex-direction: row; align-items: flex-end; gap: 8px;">
                <button id="srcBtn" class="toggle-btn" data-i18n="src_mic">SOURCE: MIC</button>
                <button id="rotBtn" class="toggle-btn" data-i18n="rot_off">ROT: OFF</button>
                <button id="fsBtn" class="toggle-btn">â›¶</button>
            </div>

            <div class="info-footer">
                <div class="shortcuts">
                    <b>[TAB]</b> <span data-i18n="sc_hide">HIDE UI</span><br>
                    <b>[SPACE]</b> <span data-i18n="sc_pause">PAUSE</span>
                </div>
                <div class="origin">MADE IN BRAZIL</div>
            </div>

        </div>
    </div>

    <script type="module">
        import * as THREE from 'three';
        import { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer.js';
        import { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass.js';
        import { UnrealBloomPass } from 'three/examples/jsm/postprocessing/UnrealBloomPass.js';
        import { ShaderPass } from 'three/examples/jsm/postprocessing/ShaderPass.js';
        import { FXAAShader } from 'three/examples/jsm/shaders/FXAAShader.js';
        import { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';

        // i18n logic extracted to js/i18n.js

        // audio logic extracted to js/audio.js

        // visuals logic extracted to js/visuals.js

        // All logic moved. Load main app:
    </script>
    <script type="module" src="js/app.js"></script>
</body>

</html>